(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[871],{4356:function(e,s,t){Promise.resolve().then(t.bind(t,4500))},4500:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return o}});var l=t(7437),a=t(2265),r=t(4033),n=t(5749),i=t(815);function o(){let[e,s]=(0,a.useState)([]),[t,o]=(0,a.useState)(""),[c,d]=(0,a.useState)(!1),[x]=(0,a.useState)(()=>Math.random().toString(36).substr(2,9)),[m,u]=(0,a.useState)([]),[h,b]=(0,a.useState)(null),p=(0,a.useRef)(null),g=(0,r.useRouter)();(0,a.useEffect)(()=>{let e=localStorage.getItem("chat_messages_".concat(x));e&&s(JSON.parse(e));let t=JSON.parse(localStorage.getItem("previousBuilds")||"[]");u(t.slice(-3));let l=sessionStorage.getItem("pcBuildResult");l&&b(JSON.parse(l))},[x]),(0,a.useEffect)(()=>{e.length>0&&localStorage.setItem("chat_messages_".concat(x),JSON.stringify(e))},[e,x]);let f=()=>{var e;null===(e=p.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})};(0,a.useEffect)(()=>{f()},[e]);let j=async e=>{if(e.preventDefault(),!t.trim())return;let l={role:"user",content:t};s(e=>[...e,l]),o(""),d(!0);try{let e=new AbortController,l=setTimeout(()=>e.abort(),3e4),a=await fetch("".concat("https://947195b2-3eee-4e73-a065-9bc24478d2b6.preview.emergentagent.com","/api/ask-ai"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({message:t,session_id:x,build_context:h?h.ai_response:null}),signal:e.signal});if(clearTimeout(l),!a.ok)throw Error("Failed to get AI response");let r=await a.json();if(r.success){let e={role:"assistant",content:r.response};s(s=>[...s,e])}else throw Error("AI response failed")}catch(l){console.error("Error:",l);let e="Sorry, I encountered an error. Please try again.";"AbortError"===l.name&&(e="Request timed out. Please try again.");let t={role:"assistant",content:e};s(e=>[...e,t])}finally{d(!1)}},N=e=>{o(e)},v=e=>{b(e);let s="I'd like to discuss my ".concat(e.use_case," PC build with a $").concat(e.budget," budget.");o(s)};return(0,l.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900",children:[(0,l.jsx)("header",{className:"bg-slate-800 shadow-lg border-b border-slate-700",children:(0,l.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,l.jsxs)("div",{className:"flex justify-between items-center py-6",children:[(0,l.jsxs)("div",{className:"flex items-center",children:[(0,l.jsx)("button",{onClick:()=>g.push("/"),className:"text-blue-400 hover:text-blue-300 mr-4",children:"← Back"}),(0,l.jsx)("h1",{className:"text-2xl font-bold text-white",children:"PC Builder AI"})]}),(0,l.jsxs)("nav",{className:"hidden md:flex space-x-8",children:[(0,l.jsx)("a",{href:"/",className:"text-slate-300 hover:text-white",children:"Home"}),(0,l.jsx)("a",{href:"/ask-ai",className:"text-blue-400 font-medium",children:"Ask AI"}),(0,l.jsx)("a",{href:"/blog",className:"text-slate-300 hover:text-white",children:"Blog"})]})]})})}),(0,l.jsxs)("main",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[(0,l.jsxs)("div",{className:"bg-slate-800 rounded-2xl shadow-2xl overflow-hidden border border-slate-700",children:[(0,l.jsxs)("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 px-8 py-6",children:[(0,l.jsx)("h1",{className:"text-2xl font-bold text-white mb-2",children:"Ask the AI"}),(0,l.jsx)("p",{className:"text-blue-100",children:"Get expert advice on PC components, compatibility, and building tips"})]}),(0,l.jsxs)("div",{className:"h-96 overflow-y-auto p-6 space-y-4 bg-slate-900",children:[0===e.length?(0,l.jsxs)("div",{className:"text-center text-slate-400 py-8",children:[(0,l.jsx)("div",{className:"bg-slate-800 rounded-full p-4 w-16 h-16 mx-auto mb-4 flex items-center justify-center border border-slate-700",children:(0,l.jsx)("svg",{className:"w-8 h-8 text-slate-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-3.582 8-8 8a8.959 8.959 0 01-4.906-1.484L3 21l2.516-5.094A8.959 8.959 0 013 12c0-4.418 3.582-8 8-8s8 3.582 8 8z"})})}),(0,l.jsx)("p",{className:"text-lg font-medium mb-2 text-white",children:"Start a conversation!"}),(0,l.jsx)("p",{children:"Ask me anything about PC building, components, or compatibility."})]}):e.map((e,s)=>(0,l.jsx)("div",{className:"flex ".concat("user"===e.role?"justify-end":"justify-start"),children:(0,l.jsx)("div",{className:"max-w-xs md:max-w-md lg:max-w-lg xl:max-w-xl rounded-2xl px-4 py-3 ".concat("user"===e.role?"bg-blue-600 text-white":"bg-slate-700 text-slate-100 border border-slate-600"),children:"user"===e.role?(0,l.jsx)("p",{className:"text-sm",children:e.content}):(0,l.jsx)("div",{className:"prose prose-sm max-w-none prose-invert",children:(0,l.jsx)(n.UG,{remarkPlugins:[i.Z],components:{p:e=>{let{node:s,...t}=e;return(0,l.jsx)("p",{...t,className:"text-sm mb-2 last:mb-0 text-slate-100"})},ul:e=>{let{node:s,...t}=e;return(0,l.jsx)("ul",{...t,className:"list-disc pl-4 text-sm"})},ol:e=>{let{node:s,...t}=e;return(0,l.jsx)("ol",{...t,className:"list-decimal pl-4 text-sm"})},li:e=>{let{node:s,...t}=e;return(0,l.jsx)("li",{...t,className:"mb-1 text-slate-100"})},strong:e=>{let{node:s,...t}=e;return(0,l.jsx)("strong",{...t,className:"font-semibold text-white"})},code:e=>{let{node:s,...t}=e;return(0,l.jsx)("code",{...t,className:"bg-slate-600 px-1 py-0.5 rounded text-xs text-blue-300"})}},children:e.content})})})},s)),c&&(0,l.jsx)("div",{className:"flex justify-start",children:(0,l.jsx)("div",{className:"bg-slate-700 border border-slate-600 rounded-2xl px-4 py-3 max-w-xs",children:(0,l.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,l.jsxs)("div",{className:"animate-pulse flex space-x-1",children:[(0,l.jsx)("div",{className:"w-2 h-2 bg-slate-400 rounded-full"}),(0,l.jsx)("div",{className:"w-2 h-2 bg-slate-400 rounded-full"}),(0,l.jsx)("div",{className:"w-2 h-2 bg-slate-400 rounded-full"})]}),(0,l.jsx)("span",{className:"text-sm text-slate-300",children:"AI is typing..."})]})})}),(0,l.jsx)("div",{ref:p})]}),0===e.length&&(0,l.jsxs)("div",{className:"border-t border-slate-700 px-6 py-4 bg-slate-800",children:[(0,l.jsx)("p",{className:"text-sm text-slate-300 mb-3",children:"Try asking:"}),(0,l.jsx)("div",{className:"flex flex-wrap gap-2",children:["What's the difference between DDR4 and DDR5 RAM?","How much power supply do I need for RTX 4070?","Which CPU is better for gaming: Intel or AMD?","What's the best budget graphics card for 1080p gaming?","Do I need liquid cooling for my build?","What motherboard features should I look for?"].map((e,s)=>(0,l.jsx)("button",{onClick:()=>N(e),className:"text-xs bg-slate-700 hover:bg-slate-600 text-slate-200 px-3 py-2 rounded-full transition-colors border border-slate-600",children:e},s))})]}),(0,l.jsxs)("form",{onSubmit:j,className:"border-t border-slate-700 p-6 bg-slate-800",children:[(0,l.jsxs)("div",{className:"flex space-x-4",children:[(0,l.jsx)("input",{type:"text",value:t,onChange:e=>o(e.target.value),placeholder:"Ask about PC components, compatibility, or building tips...",className:"flex-1 px-4 py-3 bg-slate-700 border border-slate-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-white placeholder-slate-400",disabled:c}),(0,l.jsx)("button",{type:"submit",disabled:c||!t.trim(),className:"bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 disabled:bg-blue-400 disabled:cursor-not-allowed transition-colors",children:c?"Sending...":"Send"})]}),h&&(0,l.jsx)("div",{className:"mt-3 p-3 bg-blue-900 bg-opacity-50 rounded-lg border border-blue-700",children:(0,l.jsxs)("p",{className:"text-sm text-blue-200",children:["\uD83D\uDCA1 Context: Discussing your $",h.budget," ",h.use_case," build",(0,l.jsx)("button",{onClick:()=>b(null),className:"ml-2 text-blue-300 hover:text-white",children:"✕"})]})})]})]}),m.length>0&&(0,l.jsxs)("div",{className:"bg-slate-800 rounded-2xl shadow-2xl p-6 border border-slate-700 animate-fadeIn",children:[(0,l.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,l.jsx)("h2",{className:"text-xl font-bold text-white",children:"Previous Builds"}),(0,l.jsx)("button",{onClick:()=>{s([]),localStorage.removeItem("chat_messages_".concat(x))},className:"text-slate-400 hover:text-white text-sm",children:"Clear Chat"})]}),(0,l.jsx)("div",{className:"grid gap-4",children:m.map((e,s)=>(0,l.jsx)("div",{className:"bg-slate-700 rounded-lg p-4 border border-slate-600",children:(0,l.jsxs)("div",{className:"flex justify-between items-center",children:[(0,l.jsxs)("div",{children:[(0,l.jsxs)("h3",{className:"text-white font-medium",children:["$",e.budget," ",e.use_case," Build"]}),(0,l.jsxs)("p",{className:"text-slate-300 text-sm",children:["Generated on ",new Date(e.timestamp||Date.now()).toLocaleDateString()]})]}),(0,l.jsx)("button",{onClick:()=>v(e),className:"bg-blue-600 text-white px-3 py-2 rounded-lg hover:bg-blue-700 transition-colors text-sm",children:"Discuss This Build"})]})},s))})]})]})]})}}},function(e){e.O(0,[630,971,472,744],function(){return e(e.s=4356)}),_N_E=e.O()}]);